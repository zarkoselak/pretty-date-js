<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Pretty-date-js by zarkoselak</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Pretty-date-js</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/zarkoselak/pretty-date-js" class="btn">View on GitHub</a>
      <a href="https://github.com/zarkoselak/pretty-date-js/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/zarkoselak/pretty-date-js/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>Welcome to Pretty-date-js simple example</h3>

      <p>Click on listed dates</p>

<ul>
  <li><a href="javascript:void(0)">Wed Jun 08 2016 00:00:00 GMT+0100 (W. Europe Standard Time</a></li>
  <li><a href="javascript:void(0)">Mon Jun 06 2016 00:20:00 GMT+0100 (W. Europe Standard Time</a></li>
  <li><a href="javascript:void(0)">1988-06-08T12:00:00</a></li>
  <li><a href="javascript:void(0)">01/06/2016</a></li>
  <li><a href="javascript:void(0)">TEst</a></li>
</ul>

<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris egestas a augue et mattis. Vestibulum et interdum lectus. Proin facilisis vulputate ex sed viverra. Integer sapien neque, malesuada sed nisi et, commodo ultrices est. Sed dignissim, velit non convallis cursus, massa velit ullamcorper mauris, nec ultrices enim orci et nibh. Vivamus semper tellus quam, at ornare nisi fermentum sed. Etiam vel porta ipsum. Etiam a feugiat mauris. Nam turpis mauris, mollis id nisi eu, ornare mollis sem. Vestibulum pharetra fermentum ultricies. Mauris porttitor euismod erat. Donec egestas, nisl vitae sagittis feugiat, eros nulla interdum eros, nec vehicula justo ligula vel eros. Quisque sit amet pharetra sapien.</p>
<p style="text-align: right;"><span class="pretty-date">?? ??</span></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/zarkoselak/pretty-date-js">Pretty-date-js</a> is maintained by <a href="https://github.com/zarkoselak">zarkoselak</a>.</span>
      </footer>

<script type="text/javascript" charset="utf-8" async defer>

  function prettyDate(dateParam, userO) {
    var date = new Date(dateParam).getTime();
    var options = {
      lang: {
        seconds: ['second', 'seconds'],
        minutes: ['minute', 'minutes'],
        hours: ['hour', 'hours'],
        days: ['day', 'days'],
        months: ['month', 'months'],
        years: ['year', 'years'],
        misc: ['ago', 'Invalid input, please check formating']
      }
    };

    if (!!!date)
      return { value: '', lang: '', misc: options.lang.misc[1]};

    var ms      = Date.now() - date;
    var seconds = Math.floor(ms / 1000);
    var minutes = Math.floor(seconds / 60);
    var hours   = Math.floor(minutes / 60);
    var days    = Math.floor(hours / 24);
    var months  = Math.floor(days / 30);
    var years   = Math.floor(days / 365);

    var time = [
      {
        value: years,
        lang: options.lang.years
      },
      {
        value: months % 30,
        lang: options.lang.months
      },
      {
        value: days % 24,
        lang: options.lang.days
      },
      {
        value: hours % 60,
        lang: options.lang.hours
      },
      {
        value: minutes % 60,
        lang: options.lang.minutes 
      },
      {
        value: seconds % 60,
        lang: options.lang.seconds
      }
    ];

    return datePrettify(time, options);
  }

  function datePrettify (time, options) {
    var data;
    for (var i = 0; i < time.length; i++) {
      if (!!time[i].value) {
        data = { value: time[i].value, lang: time[i].value > 1 ? time[i].lang[1]: time[i].lang[0] , misc: options.lang.misc[0]};
        break;
      } 
    }

    if (!!!data)
      data = { value: '', lang: 'just now'};

    return data;
  }

  var anchors = document.getElementsByTagName('li');
    for(var z = 0; z < anchors.length; z++){
      var elem = anchors[z];   
      elem.onclick = function(){
        var content = this.children[0].innerHTML;
        var myDate  = prettyDate(content, {});

        document.querySelector(".pretty-date").innerHTML = myDate.value + ' ' + myDate.lang + ' ' + myDate.misc;

        return false;
      };
  }

</script>

    </section>

  
  </body>
</html>
